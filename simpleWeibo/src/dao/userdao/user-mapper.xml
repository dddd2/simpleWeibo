<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.userdao.IUserDao">
	<insert id="insertUser">
		insert into user (userName,age,sex,email,phone,remark,touxiang) 
			values 
			(#{name}, 
			 #{age,jdbcType=NUMERIC},
			 #{sex,jdbcType=VARCHAR},
			 #{email,jdbcType=VARCHAR},
			 #{phone,jdbcType=VARCHAR},
			 #{remark,jdbcType=VARCHAR},
			 #{touxiang,jdbcType=VARCHAR})
	</insert>
	
	<update id="updateUser">
		update user 
			set 
			userName = #{name}, 
			age = #{age,jdbcType=NUMERIC},
			sex = #{sex,jdbcType=VARCHAR}, 
			email = #{email,jdbcType=VARCHAR}, 
			phone = #{phone,jdbcType=VARCHAR}, 
			remark = #{remark,jdbcType=VARCHAR}, 
			touxiang = #{touxiang,jdbcType=VARCHAR} 
			where userId = #{userId}
	</update>
	
	<delete id="deleteUser">
		delete from user where id = #{userId}
	</delete>
	
	<select id="findUserById" parameterType="Integer" resultType="entity.User">
		select 
			userId, userName as name, age, sex, email, phone, remark, touxiang
		from 
			user
		where
			userId = #{id}
	</select> 
	
	<resultMap type="entity.User" id="userList">
		<result property="userId" column="userId"/>
		<result property="age" column="age"/>
		<result property="sex" column="sex"/>
		<result property="email" column="email"/>
		<result property="phone" column="phone"/>
		<result property="remark" column="remark"/>
		<result property="touxiang" column="touxiang"/>
	</resultMap>
	
	<select id="findAllUsers" resultMap="userList">
		select * from user
	</select>
</mapper>